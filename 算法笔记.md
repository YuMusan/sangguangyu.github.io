在计算机科学中, 图(graph) 是一种抽象数据类型, 旨在实现数学中的无向图和有向图概念，特别是图论领域。

一个图数据结构是一个(由有限个或者可变数量的)顶点/节点/点和边构成的有限集。

[原文出处](https://github.com/trekhleb/javascript-algorithms/blob/master/src/data-structures/graph/README.zh-CN.md)

## 图是什么？

**图是互连节点的集合**

举个例子，一个简单的图可能是这样：

![图的表现](https://pics3.baidu.com/feed/e824b899a9014c086219d4cd1e29370d7bf4f40b.jpeg?token=5396dfce133a12f1db07f2244c7eb491&s=49A63C72558646E016E4B5DC0000C033)

节点（node）用红色标出，通过黑色的边（edge）连接。
图可用于表示：
* 社交网络
* 网页
* 生物网络
* …

可以在图上执行怎样的分析？
* 研究拓扑结构和连接性
* 群体检测
* 识别中心节点
* 预测缺失的节点
* 预测缺失的边
* …

#### 图的基本表示方法

[原文地址](https://baijiahao.baidu.com/s?id=1640465303505218215&wfr=spider&for=pc)

图 G=(V, E) 由下列要素构成：

* 一组节点（也称为 verticle）V=1,…,n
* 一组边 E (V×V)
* 边 (i,j) ∈ E 连接了节点 i 和 j
* i 和 j 被称为相邻节点（neighbor）
* 节点的度（degree）是指相邻节点的数量

![节点边和度](https://pics5.baidu.com/feed/f31fbe096b63f624a3303aab9316defd1b4ca384.jpeg?token=cc892731bc49663845029aa41d86632f&s=59A63C725D825EC202E4BDDE0000C0B3)

* 如果一个图的所有节点都有 n-1 个相邻节点，则该图是完备的（complete）。也就是说所有节点都具备所有可能的连接方式。
* 从 i 到 j 的路径（path）是指从 i 到达 j 的边的序列。该路径的长度（length）等于所经过的边的数量。
* 图的直径（diameter）是指连接任意两个节点的所有最短路径中最长路径的长度。

![图的直径](https://pics5.baidu.com/feed/08f790529822720ed8e0f5816f993f43f21fab72.jpeg?token=febe3fa3063786eabf68456ea174068f&s=49A63C7255C246E012E4BDDE0000D033)

举个例子，在这个案例中，可以计算出一些连接任意两个节点的最短路径。该图的直径为 3，因为没有任意两个节点之间的最短路径的长度超过 3。

* 测地路径（geodesic path）是指两个节点之间的最短路径。
* 如果所有节点都可通过某个路径连接到彼此，则它们构成一个连通分支（connected component）。如果一个图仅有一个连通分支，则该图是连通的（connected）。

举个例子，下面是一个有两个不同连通分支的图：

![两个连通分支](https://pics0.baidu.com/feed/3812b31bb051f819fc727e09cee67fe82f73e7f1.jpeg?token=508e7d1935cfed5f644c178a2323ee9e&s=49A63C725D5376C25C4980DE0000C0B3)

* 如果一个图的边是有顺序的配对，则该图是有向的（directed）。i 的入度（in-degree）是指向 i 的边的数量，出度（out-degree）是远离 i 的边的数量。

![有向图](https://pics7.baidu.com/feed/08f790529822720eed7ec2e36f993f43f31fabca.jpeg?token=55c2ed71e89950facaa5231790cbfc4d&s=79A63C725DC656C212ECADD500009033)

* 如果可以回到一个给定节点，则该图是有环的（cyclic）。相对地，如果至少有一个节点无法回到，则该图就是无环的（acyclic）。
* 图可以被加权（weighted），即在节点或关系上施加权重。
* 如果一个图的边数量相比于节点数量较小，则该图是稀疏的（sparse）。相对地，如果节点之间的边非常多，则该图是密集的（dense）。

![总结](https://pics6.baidu.com/feed/6c224f4a20a4462343cb38f58c70470b0df3d7ff.jpeg?token=9107bed5a4e1e34eecd4b0976a5ec8af&s=0802573247C061414C548DCB0000E0B3)

依次为：无向图，有向图，有环，无环，加权，未加权，稀疏的，密集的

### 如何存储图？
存储图的方式有三种，取决于你想用它做什么：

* 存储为边列表：存储有边连接的每一对节点的 ID。

* 使用邻接矩阵，这通常是在内存中加载的方式：

![邻接矩阵](https://pics6.baidu.com/feed/c995d143ad4bd113fef695964efd910a4bfb0535.jpeg?token=0c501a60d095648d1c2e27ce6364a7ce&s=58283C72C57148310EF540DF0000C0B2)

* 使用邻接列表：
1: [2, 3, 4], 2: [1, 3], 3: [2, 4]...

如下无向图用邻接矩阵和邻接列表表示

![无向图](https://img2018.cnblogs.com/blog/1534783/201901/1534783-20190121155931594-1184508908.png)

显然，这个无向图有13个点。0可以通往1,2,5,6；6可以通往0,4;5可以通往0,3,4。即0的邻居点有1,2,5,6；6的邻居点有0,4。

邻接矩阵：

![邻接矩阵表示](https://img2018.cnblogs.com/blog/1534783/201901/1534783-20190121160719532-104021413.png)

如果两个点相邻，则用1表示，否则用0。例如1是0的邻居点，所以0和1相交对应的格子为1。

从这个图可以看出，如果每个点不是与大量的其它点互为邻居，则会有很多0出现。如果点的数量庞大，矩阵将十分巨大，且有很多空间浪费（0占据的格子）。

邻接列表：

![邻接列表表示](https://img2018.cnblogs.com/blog/1534783/201901/1534783-20190121161615771-2087321877.png)

转换成数组则是：
`[[6,2,1,5],[0],[0],[5,4],[5,6,3],[3,4,0],[0,4],[8],[7],[11,10,12],[9],[9,12],[11,9]]`

数组中的下标index代表点的ID，即：
0: [6,2,1,5]
1: [0]
2: [0]
3: [5,4]
4: [5,6,3]
5: [3,4,0]
6: [0,4]
7: [8]
8: [7]
9: [11,10,12]
10: [9]
11: [9,12]
12: [11,9]

[原文出处](https://www.cnblogs.com/mcomco/p/10298021.html)

#### 无向图
边没有方向的图称为无向图。
无向图G=<V,E>,其中：
1. V是非空集合，称为顶点集。
2. E是V中元素构成的无序二元组的集合，称为边集。

#### 二分图

二分图又称作二部图，是图论中的一种特殊模型。 设G=(V,E)是一个无向图，如果顶点V可分割为两个互不相交的子集(A,B)，并且图中的每条边（i，j）所关联的两个顶点i和j分别属于这两个不同的顶点集(i in A,j in B)，则称图G为一个二分图。

> 简而言之，就是顶点集V可分割为两个互不相交的子集，并且图中每条边依附的两个顶点都分属于这两个互不相交的子集，两个子集内的顶点不相邻。

无向图G为二分图的充分必要条件是，G至少有两个顶点，且其所有回路的长度均为偶数。

[原文出处](https://baike.baidu.com/item/%E4%BA%8C%E5%88%86%E5%9B%BE/9089095?fr=aladdin)

判断二分图的常见方法是染色法： 开始对任意一未染色的顶点染色，之后判断其相邻的顶点中，若未染色则将其染上和相邻顶点不同的颜色， 若已经染色且颜色和相邻顶点的颜色相同则说明不是二分图，若颜色不同则继续判断，bfs和dfs可以搞定！

>深度优先搜索（depth-first search）  广度优先搜索（breadth-first search）
